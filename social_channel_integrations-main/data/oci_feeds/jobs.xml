<?xml version="1.0" encoding="UTF-8"?>
<jobs xmlns="http://www.demandware.com/xml/impex/jobs/2015-07-01">
    <job job-id="OCI-Download-Delta-Inventory" priority="0">
        <description>Downloads delta inventory from OCI based on the token saved in the custom object.
        Note - uses token generated by the full feed export or the previous delta export.</description>
        <parameters/>
        <flow>
            <context site-id="RefArch"/>
            <step step-id="Delta Export" type="custom.OCI.DeltaExport" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="OCICustomObjectId">oci-export-RefArch</parameter>
                    <parameter name="FolderPath">feeds/export/oci/delta</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2022-10-13Z</date>
                <time>21:44:17.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="OCI-Download-Full-Inventory" priority="0">
        <description>OCI-Trigger-Export should be run first to trigger the export and the download should be performed after some time the trigger job run depending on data volume. This job downloads the triggered full export file into the provided folder path.</description>
        <parameters/>
        <flow>
            <context site-id="RefArch"/>
            <step step-id="Download Inventory File from OCI" type="custom.OCI.DownloadExport" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="OCICustomObjectId">oci-export-RefArch</parameter>
                    <parameter name="FolderPath">feeds/export/oci/full</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2022-10-06Z</date>
                <time>03:54:23.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="OCI-Trigger-Export" priority="0">
        <description>Triggers export of the OCI inventory based on the locations and location-groups provided to the job step param</description>
        <parameters/>
        <flow>
            <context site-id="RefArch"/>
            <step step-id="TriggerExport" type="custom.OCI.TriggerExport" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="OCICustomObjectId">oci-export-RefArch</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2022-10-02Z</date>
                <time>23:26:04.000Z</time>
            </run-once>
        </triggers>
    </job>

    <job job-id="OCI-Retry-Download-Full-Inventory" priority="0">
        <description>Optional. If the "Download Inventory File from OCI" job fails to export the OCI inventory due to the file not being finalized, this job will make a new export attempt.</description>
        <parameters/>
        <flow>
            <context site-id="RefArch"/>
            <step step-id="Retry Download Inventory File from OCI" type="custom.OCI.RetryDownloadExport" enforce-restart="false">
                <description/>
                <parameters>
                    <parameter name="OCICustomObjectId">oci-export-RefArch</parameter>
                    <parameter name="FolderPath">feeds/export/oci/full</parameter>
                </parameters>
            </step>
        </flow>
        <rules/>
        <triggers>
            <run-once enabled="false">
                <date>2023-06-29Z</date>
                <time>17:29:00.000Z</time>
            </run-once>
        </triggers>
    </job>
</jobs>
